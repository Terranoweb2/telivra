@import "tailwindcss";

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

:root {
  --background: #f8fafc;
  --foreground: #0f172a;
  color-scheme: light;
}

.dark {
  --background: #1c1c1e;
  --foreground: #e5e5ea;
  color-scheme: dark;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ==========================================
   DARK MODE — iOS-style palette
   bg-gray-950 = #1c1c1e  (base)
   bg-gray-900 = #2c2c2e  (cards)
   bg-gray-800 = #3a3a3c  (inputs, elevated)
   bg-gray-700 = #48484a  (hover, borders)
   ========================================== */

html.dark .bg-gray-950 { background-color: #1c1c1e !important; }
html.dark .bg-gray-900 { background-color: #2c2c2e !important; }
html.dark .bg-gray-800 { background-color: #3a3a3c !important; }
html.dark .bg-gray-700 { background-color: #48484a !important; }

html.dark .bg-gray-950\/80 { background-color: rgb(28 28 30 / 0.85) !important; }
html.dark .bg-gray-900\/\[0\.97\] { background-color: rgb(44 44 46 / 0.97) !important; }
html.dark .bg-gray-900\/95 { background-color: rgb(44 44 46 / 0.95) !important; }
html.dark .bg-gray-900\/80 { background-color: rgb(44 44 46 / 0.85) !important; }
html.dark .bg-gray-900\/50 { background-color: rgb(44 44 46 / 0.6) !important; }
html.dark .bg-gray-900\/90 { background-color: rgb(44 44 46 / 0.9) !important; }
html.dark .bg-gray-900\/60 { background-color: rgb(44 44 46 / 0.6) !important; }
html.dark .bg-gray-800\/60 { background-color: rgb(58 58 60 / 0.6) !important; }
html.dark .bg-gray-800\/50 { background-color: rgb(58 58 60 / 0.5) !important; }

html.dark .border-gray-800 { border-color: #3a3a3c !important; }
html.dark .border-gray-800\/50 { border-color: rgb(58 58 60 / 0.5) !important; }
html.dark .border-gray-700 { border-color: #48484a !important; }

html.dark .text-gray-400 { color: #98989d !important; }
html.dark .text-gray-500 { color: #8e8e93 !important; }
html.dark .text-gray-600 { color: #636366 !important; }
html.dark .text-gray-700 { color: #48484a !important; }
html.dark .text-gray-800 { color: #d1d1d6 !important; }

html.dark .hover\:bg-gray-800:hover { background-color: #3a3a3c !important; }

/* Telegram-style elements in dark */
html.dark .bg-\[\#1c1c1e\] { background-color: #1c1c1e !important; }
html.dark .bg-white\/\[0\.05\] { background-color: rgb(255 255 255 / 0.05) !important; }
html.dark .bg-white\/\[0\.03\] { background-color: rgb(255 255 255 / 0.03) !important; }

/* Dark mode inputs */
html.dark input:not([type="checkbox"]):not([type="radio"]),
html.dark select,
html.dark textarea {
  background-color: #3a3a3c !important;
  border-color: #48484a !important;
}
html.dark input:focus,
html.dark select:focus,
html.dark textarea:focus {
  border-color: rgb(249 115 22 / 0.6) !important;
}
html.dark ::placeholder { color: #636366 !important; }

/* ==========================================
   LIGHT MODE
   ========================================== */

html:not(.dark) .bg-gray-950 { background-color: #f8fafc !important; }
html:not(.dark) .bg-gray-900 { background-color: #ffffff !important; }
html:not(.dark) .bg-gray-800 { background-color: #f1f5f9 !important; }
html:not(.dark) .bg-gray-700 { background-color: #e2e8f0 !important; }

html:not(.dark) .bg-gray-950\/80 { background-color: rgb(248 250 252 / 0.85) !important; }
html:not(.dark) .bg-gray-900\/\[0\.97\] { background-color: rgb(255 255 255 / 0.97) !important; }
html:not(.dark) .bg-gray-900\/95 { background-color: rgb(255 255 255 / 0.95) !important; }
html:not(.dark) .bg-gray-900\/80 { background-color: rgb(255 255 255 / 0.85) !important; }
html:not(.dark) .bg-gray-900\/50 { background-color: rgb(255 255 255 / 0.6) !important; }
html:not(.dark) .bg-gray-900\/90 { background-color: rgb(255 255 255 / 0.9) !important; }
html:not(.dark) .bg-gray-900\/60 { background-color: rgb(255 255 255 / 0.6) !important; }
html:not(.dark) .bg-gray-800\/60 { background-color: rgb(241 245 249 / 0.6) !important; }
html:not(.dark) .bg-gray-800\/50 { background-color: rgb(241 245 249 / 0.5) !important; }

html:not(.dark) .bg-\[\#1c1c1e\] { background-color: #ffffff !important; }
html:not(.dark) .bg-white\/\[0\.05\] { background-color: #f1f5f9 !important; }
html:not(.dark) .bg-white\/\[0\.03\] { background-color: #f8fafc !important; }
html:not(.dark) .bg-white\/5 { background-color: #f1f5f9 !important; }

html:not(.dark) .bg-black\/60 { background-color: rgb(0 0 0 / 0.2) !important; }
html:not(.dark) .bg-black\/50 { background-color: rgb(0 0 0 / 0.15) !important; }
html:not(.dark) .bg-black\/40 { background-color: rgb(0 0 0 / 0.1) !important; }

html:not(.dark) .border-gray-800 { border-color: #e2e8f0 !important; }
html:not(.dark) .border-gray-800\/50 { border-color: rgb(226 232 240 / 0.6) !important; }
html:not(.dark) .border-gray-800\/60 { border-color: rgb(226 232 240 / 0.6) !important; }
html:not(.dark) .border-gray-700 { border-color: #cbd5e1 !important; }
html.dark .border-gray-200 { border-color: #3a3a3c !important; }
html:not(.dark) .border-gray-200 { border-color: #e2e8f0 !important; }
html:not(.dark) .border-white\/\[0\.06\] { border-color: rgb(226 232 240 / 0.6) !important; }
html:not(.dark) .border-white\/\[0\.08\] { border-color: rgb(226 232 240 / 0.8) !important; }

html:not(.dark) .text-white { color: #0f172a !important; }
html:not(.dark) .text-gray-300 { color: #334155 !important; }
html:not(.dark) .text-gray-400 { color: #64748b !important; }
html:not(.dark) .text-gray-500 { color: #64748b !important; }
html:not(.dark) .text-gray-600 { color: #475569 !important; }
html:not(.dark) .text-gray-700 { color: #1e293b !important; }
html:not(.dark) .text-gray-800 { color: #0f172a !important; }

html:not(.dark) .text-yellow-400 { color: #ca8a04 !important; }
html:not(.dark) .text-green-400 { color: #16a34a !important; }
html:not(.dark) .text-purple-400 { color: #9333ea !important; }
html:not(.dark) .text-orange-400 { color: #ea580c !important; }
html:not(.dark) .text-orange-500 { color: #ea580c !important; }
html:not(.dark) .text-red-400 { color: #dc2626 !important; }
html:not(.dark) .text-cyan-400 { color: #0891b2 !important; }
html:not(.dark) .text-amber-400 { color: #d97706 !important; }

/* --- Couleurs texte additionnelles pour light mode --- */
html:not(.dark) .text-blue-400    { color: #2563eb !important; }
html:not(.dark) .text-blue-500    { color: #1d4ed8 !important; }
html:not(.dark) .text-blue-600    { color: #1e40af !important; }
html:not(.dark) .text-emerald-400 { color: #059669 !important; }
html:not(.dark) .text-emerald-600 { color: #047857 !important; }
html:not(.dark) .text-pink-400    { color: #db2777 !important; }
html:not(.dark) .text-indigo-400  { color: #4f46e5 !important; }
html:not(.dark) .text-green-500   { color: #16a34a !important; }
html:not(.dark) .text-green-700   { color: #15803d !important; }
html:not(.dark) .text-yellow-500  { color: #ca8a04 !important; }
html:not(.dark) .text-yellow-700  { color: #a16207 !important; }
html:not(.dark) .text-red-500     { color: #dc2626 !important; }
html:not(.dark) .text-purple-500  { color: #9333ea !important; }

/* --- Backgrounds transparents colorés pour light mode --- */
/* Orange */
html:not(.dark) .bg-orange-500\/10  { background-color: rgba(234,88,12,0.08) !important; }
html:not(.dark) .bg-orange-500\/15  { background-color: rgba(234,88,12,0.12) !important; }
html:not(.dark) .bg-orange-600\/15  { background-color: rgba(234,88,12,0.12) !important; }
/* Rouge */
html:not(.dark) .bg-red-500\/10     { background-color: rgba(220,38,38,0.08) !important; }
html:not(.dark) .bg-red-500\/15     { background-color: rgba(220,38,38,0.10) !important; }
html:not(.dark) .bg-red-500\/20     { background-color: rgba(220,38,38,0.12) !important; }
html:not(.dark) .bg-red-500\/30     { background-color: rgba(220,38,38,0.18) !important; }
html:not(.dark) .bg-red-600\/15     { background-color: rgba(220,38,38,0.10) !important; }
/* Vert */
html:not(.dark) .bg-green-500\/10   { background-color: rgba(22,163,74,0.08) !important; }
html:not(.dark) .bg-green-500\/20   { background-color: rgba(22,163,74,0.12) !important; }
html:not(.dark) .bg-green-600\/15   { background-color: rgba(22,163,74,0.10) !important; }
/* Bleu */
html:not(.dark) .bg-blue-500\/10    { background-color: rgba(37,99,235,0.08) !important; }
html:not(.dark) .bg-blue-500\/20    { background-color: rgba(37,99,235,0.12) !important; }
html:not(.dark) .bg-blue-600\/15    { background-color: rgba(37,99,235,0.10) !important; }
/* Violet */
html:not(.dark) .bg-purple-500\/10  { background-color: rgba(147,51,234,0.08) !important; }
html:not(.dark) .bg-purple-500\/20  { background-color: rgba(147,51,234,0.12) !important; }
html:not(.dark) .bg-purple-600\/15  { background-color: rgba(147,51,234,0.10) !important; }
/* Jaune */
html:not(.dark) .bg-yellow-500\/10  { background-color: rgba(234,179,8,0.08) !important; }
html:not(.dark) .bg-yellow-500\/15  { background-color: rgba(234,179,8,0.10) !important; }
html:not(.dark) .bg-yellow-500\/20  { background-color: rgba(234,179,8,0.12) !important; }
/* Cyan */
html:not(.dark) .bg-cyan-500\/10    { background-color: rgba(6,182,212,0.08) !important; }
html:not(.dark) .bg-cyan-500\/20    { background-color: rgba(6,182,212,0.12) !important; }
html:not(.dark) .bg-cyan-600\/15    { background-color: rgba(6,182,212,0.10) !important; }
/* Indigo / Amber / Pink */
html:not(.dark) .bg-indigo-500\/20  { background-color: rgba(79,70,229,0.12) !important; }
html:not(.dark) .bg-amber-500\/20   { background-color: rgba(245,158,11,0.12) !important; }
html:not(.dark) .bg-pink-500\/10    { background-color: rgba(236,72,153,0.08) !important; }

/* --- Bordures colorées pour light mode --- */
html:not(.dark) .border-l-orange-500 { border-left-color: #ea580c !important; }
html:not(.dark) .border-l-green-500  { border-left-color: #16a34a !important; }
html:not(.dark) .border-l-purple-500 { border-left-color: #9333ea !important; }
html:not(.dark) .border-l-yellow-500 { border-left-color: #eab308 !important; }
html:not(.dark) .border-l-cyan-500   { border-left-color: #06b6d4 !important; }
html:not(.dark) .border-l-red-500    { border-left-color: #ef4444 !important; }
html:not(.dark) .border-l-amber-500  { border-left-color: #f59e0b !important; }
html:not(.dark) .border-l-blue-500   { border-left-color: #3b82f6 !important; }
html:not(.dark) .border-red-500\/20   { border-color: rgba(220,38,38,0.15) !important; }
html:not(.dark) .border-red-500\/30   { border-color: rgba(220,38,38,0.20) !important; }
html:not(.dark) .border-orange-500\/20 { border-color: rgba(234,88,12,0.15) !important; }
html:not(.dark) .border-orange-500\/30 { border-color: rgba(234,88,12,0.20) !important; }
html:not(.dark) .border-green-500\/30  { border-color: rgba(22,163,74,0.20) !important; }

/* --- Hover / focus states pour light mode --- */
html:not(.dark) .hover\:bg-green-600:hover { background-color: #16a34a !important; }
html:not(.dark) .hover\:bg-green-700:hover { background-color: #15803d !important; }
html:not(.dark) .hover\:bg-red-600:hover   { background-color: #dc2626 !important; }
html:not(.dark) .hover\:bg-red-700:hover   { background-color: #b91c1c !important; }
html:not(.dark) .hover\:text-orange-300:hover { color: #ea580c !important; }

/* --- SVG fill pour light mode --- */
html:not(.dark) .fill-gray-700\/30  { fill: rgba(209,213,219,0.3) !important; }
html:not(.dark) .fill-yellow-400    { fill: #eab308 !important; }

/* --- Shadow colors pour light mode --- */
html:not(.dark) .shadow-red-600\/30   { --tw-shadow-color: rgba(220,38,38,0.15) !important; }
html:not(.dark) .shadow-green-600\/30 { --tw-shadow-color: rgba(22,163,74,0.15) !important; }

/* Preserve white text on colored backgrounds */
html:not(.dark) :is(
  [class*="bg-green-5"], [class*="bg-green-6"], [class*="bg-green-7"],
  [class*="bg-red-5"], [class*="bg-red-6"], [class*="bg-red-7"],
  [class*="bg-blue-5"], [class*="bg-blue-6"], [class*="bg-blue-7"],
  [class*="bg-purple-6"], [class*="bg-orange-5"], [class*="bg-orange-6"],
  [class*="bg-gradient"]
) .text-white,
html:not(.dark) :is(
  [class*="bg-green-5"], [class*="bg-green-6"], [class*="bg-green-7"],
  [class*="bg-red-5"], [class*="bg-red-6"], [class*="bg-red-7"],
  [class*="bg-blue-5"], [class*="bg-blue-6"], [class*="bg-blue-7"],
  [class*="bg-purple-6"], [class*="bg-orange-5"], [class*="bg-orange-6"],
  [class*="bg-gradient"]
).text-white {
  color: #ffffff !important;
}

html:not(.dark) .hover\:text-white:hover { color: #0f172a !important; }
html:not(.dark) .hover\:bg-gray-800:hover { background-color: #f1f5f9 !important; }
html:not(.dark) .hover\:border-gray-700:hover { border-color: #cbd5e1 !important; }
html:not(.dark) :is([class*="bg-orange-6"]) .hover\:text-white:hover,
html:not(.dark) :is([class*="bg-orange-6"]).hover\:text-white:hover {
  color: #ffffff !important;
}
/* Garder le texte blanc sur hover pour boutons colorés */
html:not(.dark) :is(
  [class*="bg-green-5"], [class*="bg-green-6"],
  [class*="bg-red-5"], [class*="bg-red-6"],
  [class*="bg-blue-5"], [class*="bg-blue-6"]
) .hover\:text-white:hover,
html:not(.dark) :is(
  [class*="bg-green-5"], [class*="bg-green-6"],
  [class*="bg-red-5"], [class*="bg-red-6"],
  [class*="bg-blue-5"], [class*="bg-blue-6"]
).hover\:text-white:hover {
  color: #ffffff !important;
}

html:not(.dark) .active\:bg-gray-800:active { background-color: #e2e8f0 !important; }
html:not(.dark) .active\:bg-white\/5:active { background-color: #f1f5f9 !important; }

html:not(.dark) .focus\:border-orange-500\/50:focus { border-color: rgb(249 115 22 / 0.5) !important; }

html:not(.dark) input:not([type="checkbox"]):not([type="radio"]),
html:not(.dark) select,
html:not(.dark) textarea {
  background-color: #f8fafc !important;
  border-color: #e2e8f0 !important;
  color: #0f172a !important;
}
html:not(.dark) input:focus,
html:not(.dark) select:focus,
html:not(.dark) textarea:focus {
  border-color: rgb(249 115 22 / 0.5) !important;
}

html:not(.dark) ::placeholder { color: #94a3b8 !important; }

html:not(.dark) .shadow-2xl { box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.08) !important; }
html:not(.dark) .shadow-lg { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.06) !important; }
html:not(.dark) [class*="shadow-black"] { --tw-shadow-color: rgb(0 0 0 / 0.06) !important; }

/* Scrollbar */
html.dark ::-webkit-scrollbar { width: 5px; }
html.dark ::-webkit-scrollbar-track { background: #2c2c2e; }
html.dark ::-webkit-scrollbar-thumb { background: #48484a; border-radius: 3px; }
html:not(.dark) ::-webkit-scrollbar { width: 5px; }
html:not(.dark) ::-webkit-scrollbar-track { background: #f1f5f9; }
html:not(.dark) ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }

/* Map */
.leaflet-container { background: #e2e8f0; }
html.dark .leaflet-container { background: #2c2c2e; }
/* Fix Tailwind vs Leaflet: Tailwind reset met max-width:100% sur les img, ce qui casse les tuiles */
.leaflet-container img.leaflet-tile {
  max-width: none !important;
  max-height: none !important;
  width: 256px !important;
  height: 256px !important;
}
.leaflet-container .leaflet-control-container img,
.leaflet-container .leaflet-marker-icon {
  max-width: none !important;
  max-height: none !important;
}

/* Hide scrollbar */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Fix: gradients in light mode (promo dialog overlays) */
html:not(.dark) .from-gray-900 { --tw-gradient-from: #f8fafc !important; }
html:not(.dark) .via-gray-900\/40 { --tw-gradient-via: rgb(248 250 252 / 0.4) !important; }
html:not(.dark) .via-transparent { --tw-gradient-via: transparent !important; }

/* Fix: cooking time badge on product images — keep visible in light mode */
html:not(.dark) .backdrop-blur-sm[class*="bg-black"] {
  background-color: rgb(255 255 255 / 0.8) !important;
  backdrop-filter: blur(8px) !important;
}
html:not(.dark) .backdrop-blur-sm .text-gray-400 {
  color: #334155 !important;
}

/* ═══════════════════════════════════════════════════════════
   Brand theme — override orange avec couleur admin
   Usage: <div class="brand-theme" style="--brand: #ea580c">
   ═══════════════════════════════════════════════════════════ */
.brand-theme {
  --brand: #ea580c;
  --brand-light: color-mix(in srgb, var(--brand) 85%, white);
  --brand-dark: color-mix(in srgb, var(--brand) 80%, black);
  --brand-20: color-mix(in srgb, var(--brand) 20%, transparent);
  --brand-15: color-mix(in srgb, var(--brand) 15%, transparent);
  --brand-10: color-mix(in srgb, var(--brand) 10%, transparent);
  --brand-50: color-mix(in srgb, var(--brand) 50%, transparent);
  --brand-30: color-mix(in srgb, var(--brand) 30%, transparent);
  --brand-pale: color-mix(in srgb, var(--brand) 30%, white);
}

/* Backgrounds */
.brand-theme .bg-orange-600 { background-color: var(--brand) !important; }
.brand-theme .bg-orange-500 { background-color: var(--brand-light) !important; }
.brand-theme .bg-orange-700 { background-color: var(--brand-dark) !important; }
.brand-theme .bg-orange-600\/20 { background-color: var(--brand-20) !important; }
.brand-theme .bg-orange-600\/15 { background-color: var(--brand-15) !important; }
.brand-theme .bg-orange-600\/10 { background-color: var(--brand-10) !important; }

/* Text */
.brand-theme .text-orange-500 { color: var(--brand) !important; }
.brand-theme .text-orange-400 { color: var(--brand-light) !important; }
.brand-theme .text-orange-300 { color: var(--brand-light) !important; }
.brand-theme .text-orange-100 { color: var(--brand-pale) !important; }

/* Borders */
.brand-theme .border-orange-500 { border-color: var(--brand) !important; }
.brand-theme .border-orange-500\/50 { border-color: var(--brand-50) !important; }
.brand-theme .border-orange-600\/30 { border-color: var(--brand-30) !important; }

/* Gradients */
.brand-theme .from-orange-600 { --tw-gradient-from: var(--brand) !important; }
.brand-theme .from-orange-500 { --tw-gradient-from: var(--brand-light) !important; }
.brand-theme .to-orange-500 { --tw-gradient-to: var(--brand-light) !important; }
.brand-theme .to-orange-400 { --tw-gradient-to: var(--brand-light) !important; }

/* Shadow */
.brand-theme .shadow-orange-600\/20 { --tw-shadow-color: var(--brand-20) !important; }

/* Focus */
.brand-theme .focus\:border-orange-500:focus { border-color: var(--brand) !important; }
.brand-theme .focus\:border-orange-500\/50:focus { border-color: var(--brand-50) !important; }

/* Hover backgrounds */
.brand-theme .hover\:bg-orange-500:hover { background-color: var(--brand-light) !important; }
.brand-theme .hover\:bg-orange-700:hover { background-color: var(--brand-dark) !important; }
.brand-theme .hover\:bg-orange-600:hover { background-color: var(--brand) !important; }

/* Hover gradients */
.brand-theme .hover\:from-orange-500:hover { --tw-gradient-from: var(--brand-light) !important; }
.brand-theme .hover\:to-orange-400:hover { --tw-gradient-to: var(--brand-light) !important; }

/* Hover borders */
.brand-theme .hover\:border-orange-500\/50:hover { border-color: var(--brand-50) !important; }

/* --- Additional brand overrides --- */
.brand-theme .text-orange-600 { color: var(--brand) !important; }
.brand-theme .bg-orange-500\/20 { background-color: var(--brand-20) !important; }
.brand-theme .bg-orange-500\/15 { background-color: var(--brand-15) !important; }
.brand-theme .bg-orange-500\/10 { background-color: var(--brand-10) !important; }
.brand-theme .bg-orange-500\/40 { background-color: var(--brand-50) !important; }
.brand-theme .bg-orange-400 { background-color: var(--brand-light) !important; }
.brand-theme .bg-orange-50 { background-color: var(--brand-10) !important; }
.brand-theme .border-orange-200 { border-color: var(--brand-30) !important; }
.brand-theme .border-orange-400 { border-color: var(--brand-light) !important; }
.brand-theme .border-orange-400\/40 { border-color: var(--brand-50) !important; }
.brand-theme .border-orange-500\/20 { border-color: var(--brand-20) !important; }
.brand-theme .border-orange-500\/30 { border-color: var(--brand-30) !important; }
.brand-theme .ring-orange-500\/20 { --tw-ring-color: var(--brand-20) !important; }
.brand-theme .focus\:border-orange-400:focus { border-color: var(--brand-light) !important; }
.brand-theme .to-orange-700 { --tw-gradient-to: var(--brand-dark) !important; }
.brand-theme .hover\:bg-orange-500\/10:hover { background-color: var(--brand-10) !important; }
.brand-theme .hover\:text-orange-300:hover { color: var(--brand-light) !important; }
.brand-theme .bg-orange-600\/15 { background-color: var(--brand-15) !important; }
.brand-theme .border-l-orange-500 { border-left-color: var(--brand) !important; }

/* --- Mobile bottom nav: dark = plus foncé, light = blanc visible --- */
html:not(.dark) nav .bg-gray-950 {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08) !important;
}

/* --- Smooth horizontal scroll avec snap + indicateur --- */
.scrollbar-hide {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x proximity;
  scroll-padding-inline: 1rem;
}
.scrollbar-hide > * {
  scroll-snap-align: start;
}

/* Conteneur avec dégradé de fondu pour indiquer le scroll */
.scroll-fade-wrapper {
  position: relative;
}
.scroll-fade-wrapper::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 3rem;
  background: linear-gradient(to right, transparent, var(--scroll-fade-bg, rgb(3 7 18 / 0.95)));
  pointer-events: none;
  z-index: 1;
  border-radius: 0 1rem 1rem 0;
  transition: opacity 0.3s;
}
html:not(.dark) .scroll-fade-wrapper::after {
  background: linear-gradient(to right, transparent, rgb(248 250 252 / 0.95));
}

/* --- Chat panel animation --- */
@keyframes slide-up {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}
.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}



/* ==========================================
   GLASS PANELS — frosted overlay (theme-aware)
   Light mode: white glass | Dark mode: dark glass
   ========================================== */
.glass-panel,
.glass-bar {
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  backdrop-filter: blur(20px) saturate(180%);
}

/* Light mode: white frosted glass */
html:not(.dark) .glass-panel {
  background-color: rgba(255, 255, 255, 0.88) !important;
  box-shadow: 0 -2px 16px rgba(0, 0, 0, 0.06);
}
html:not(.dark) .glass-bar {
  background-color: rgba(255, 255, 255, 0.82) !important;
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.04);
}

/* Dark mode: dark frosted glass */
html.dark .glass-panel {
  background-color: rgba(44, 44, 46, 0.85) !important;
  box-shadow: 0 -2px 16px rgba(0, 0, 0, 0.2);
}
html.dark .glass-bar {
  background-color: rgba(44, 44, 46, 0.80) !important;
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.15);
}

/* --- Print styles --- */
@media print {
  body { background: white !important; color: black !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .no-print, nav, aside, [class*="mobile-nav"], [class*="sidebar"], [class*="topbar"] { display: none !important; }
  .print-only { display: block !important; }
  .print-break { page-break-before: always; }
  main { padding: 0 !important; }
  .bg-gray-900, .bg-gray-950, .bg-gray-800 { background: white !important; }
  .text-white, .text-gray-100, .text-gray-200, .text-gray-300 { color: black !important; }
  .text-gray-400, .text-gray-500, .text-gray-600 { color: #555 !important; }
  .border-gray-800, .border-gray-700 { border-color: #ddd !important; }
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid #ddd; padding: 4px 8px; }
}

/* ==========================================
   Chat input styles — always visible in both modes
   ========================================== */
.chat-input {
  background-color: #2c2c2e !important;
  color: #ffffff !important;
  border: 1px solid #3a3a3c !important;
  border-radius: 0.75rem;
}
.chat-input:focus {
  border-color: rgb(249 115 22 / 0.5) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.2) !important;
}
.chat-input::placeholder { color: #636366 !important; }

html:not(.dark) .chat-input {
  background-color: #f1f5f9 !important;
  color: #0f172a !important;
  border: 1px solid #e2e8f0 !important;
}
html:not(.dark) .chat-input:focus {
  border-color: rgb(249 115 22 / 0.5) !important;
  box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.15) !important;
}
html:not(.dark) .chat-input::placeholder { color: #94a3b8 !important; }

/* Light mode on track page (inside html.dark) */
.chat-input-light {
  background-color: #f1f5f9 !important;
  color: #0f172a !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 0.75rem;
}
.chat-input-light:focus {
  border-color: rgb(249 115 22 / 0.5) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.15) !important;
}
.chat-input-light::placeholder { color: #94a3b8 !important; }

/* Fix: text-gray-100 and text-gray-200 in light mode */
html:not(.dark) .text-gray-100 { color: #1e293b !important; }
html:not(.dark) .text-gray-200 { color: #334155 !important; }
